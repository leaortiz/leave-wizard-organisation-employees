(this["webpackJsonpleave-wizard-organization-employees"]=this["webpackJsonpleave-wizard-organization-employees"]||[]).push([[0],{126:function(e,t){t.settings={REACT_APP_API_URL:"./data.json"}},128:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(40),c=n.n(i),o=(n(73),n(74),n(13)),s=n(17),l=n(42),d=n.n(l),u=n(62),j=n(8),h=n(9),p=n(11),b=n(10),f=n(133),O=n(132),m=n(134),v=n(135),y="firstName",g="role",x="workgroupName",k="default",w="location",C="workgroup",B="default",S=[{datafield:"name",caption:"Name"},{datafield:"role",caption:"Role"},{datafield:"workgroupName",caption:"Workgroup"},{datafield:"leaveYearStartDate",caption:"Leave Year (dd/MM)"},{datafield:"",caption:"Info"},{datafield:"employmentStartDate",caption:"Employment Dates"},{datafield:"bradfactor",caption:"Bradford Factor"},{datafield:"viewLeaveTaken",caption:""}],I=n(3),N=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e,t;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("h4",{className:"lw-light-blue",children:[this.props.city,":"]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"Max staff on leave:"})," ",null!==(e=this.props.maxStaffOnLeave)&&void 0!==e?e:"N/A"]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"Work pattern:"})," ",null!==(t=this.props.workPattern)&&void 0!==t?t:"N/A"]})]})}}]),n}(a.a.Component),A=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e,t;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("h4",{className:"lw-light-blue",children:[this.props.name,":"]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"Max staff on leave:"})," ",null!==(e=this.props.maxStaffOnLeave)&&void 0!==e?e:"N/A"]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("strong",{children:"Leader:"})," ",null!==(t=this.props.leaderName)&&void 0!==t?t:"N/A"]})]})}}]),n}(a.a.Component),D=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).buildData=function(e,t){var n=e.filterBy,r=e.filterValueId,a=t.filter((function(e){return e.id===r}))[0];if(n===w){var i,c,s={city:a.city,maxStaffOnLeave:null!==(i=a.maxStaffOnLeave)&&void 0!==i?i:"N/A",workPattern:null!==(c=a.workPattern)&&void 0!==c?c:"N/A"};return Object(I.jsx)(N,Object(o.a)({},s))}if(n===C){var l,d,u,j={name:a.name,leaderName:null!==(l=null===(d=a.leader)||void 0===d?void 0:d.name)&&void 0!==l?l:"N/A",maxStaffOnLeave:null!==(u=a.maxStaffOnLeave)&&void 0!==u?u:"N/A"};return Object(I.jsx)(A,Object(o.a)({},j))}},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.filterBy===w,t=this.props.filterBy===C,n=e?this.props.data.locations:t?this.props.data.workgroups:[],r=this.buildData(this.props,n);return Object(I.jsxs)(I.Fragment,{children:[" ",this.props.filterBy!==B&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("h3",{style:{marginBottom:"2rem",color:"#00ABD4",cursor:"pointer"},children:[e&&"Location Detail",t&&"Workgroup Detail"]}),Object(I.jsx)(v.a,{children:Object(I.jsx)(v.a.Body,{style:{padding:"8px"},children:r})})]})]})}}]),n}(a.a.Component),T=n(129),F=(n(31),n(136)),L=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).showAllHandler=function(e){return r.props.handleFilterChange(w,e)},r.isSelectedStyle=function(e){return e===r.props.selectedTreeId?{backgroundColor:"#00ABD4",color:"white"}:{}},r.workgroups=function(){var e=r.props.workgroups.filter((function(e){return e.locationId===r.props.location.id&&e.isActive})).map((function(e){return Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a.Body,{collapsible:!0,className:"noselect tree-workgroups",onClick:function(){return r.props.filterByWorkgroupHandler(e.id,C,r.props.location)},style:r.isSelectedStyle(e.id),children:e.name}),Object(I.jsx)("hr",{style:{margin:0}})]},e.name)}));return e.push(Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a.Body,{onClick:function(){r.showAllHandler(r.props.location.name),r.props.filterByWorkgroupHandler(r.props.location.id,w)},collapsible:!0,className:"noselect tree-workgroups",style:r.isSelectedStyle(r.props.location.id),children:r.props.location.name}),Object(I.jsx)("hr",{style:{margin:0}})]},e.length)),e},r.state={sortBy:""},r}return Object(h.a)(n,[{key:"render",value:function(){return this.workgroups()}}]),n}(a.a.Component),M=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.workgroups;return Object(I.jsx)(F.a,{accordion:!0,id:t.name,style:{marginBottom:"0.5rem"},children:Object(I.jsxs)(v.a,{eventKey:this.props.eventKey,children:[Object(I.jsx)(v.a.Heading,{className:"noselect tree-location",children:Object(I.jsx)("div",{children:Object(I.jsxs)(v.a.Title,{style:{display:"inline"},toggle:!0,children:[t.name," "]})})}),Object(I.jsx)(L,Object(o.a)({location:t,workgroups:n},this.props))]})},t.name)}}]),n}(a.a.Component),E=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).filterByWorkgroupHandler=function(e,t,n){r.setState({selectedTreeId:e,selectedLocation:n}),r.props.handleFilterChange(t,e)},r.tabs=function(){var e=r.props,t=e.locations,n=e.companyId;return t.filter((function(e){return e.companyId===n&&e.isActive})).map((function(e,t){return Object(I.jsx)(M,Object(o.a)({location:e,filterByWorkgroupHandler:r.filterByWorkgroupHandler,selectedTreeId:r.state.selectedTreeId},r.props),"lt"+t)}))},r.isSelectedStyle=function(){return 0===r.state.selectedTreeId?{backgroundColor:"#00ABD4",color:"white"}:{backgroundColor:"#f5f5f5"}},r.resetFilters=function(){r.props.resetfilterValueIds(),r.setState({selectedTreeId:0})},r.state={selectedTreeId:0,selectedLocation:""},r}return Object(h.a)(n,[{key:"render",value:function(){return console.log(this.state.selectedTreeId,"selectedTreeIdselectedTreeId"),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{style:{marginBottom:"2rem",color:"#00ABD4",cursor:"pointer"},children:Object(I.jsx)(T.a,{onClick:this.resetFilters,className:"lw-bg-light-blue",children:this.props.name})}),this.tabs(),Object(I.jsx)(v.a,{className:"company-detail-btn-text",onClick:this.resetFilters,style:this.isSelectedStyle(),children:"Show all"}),Object(I.jsx)("hr",{style:{margin:1}})]})}}]),n}(a.a.Component),P=n(130),V=n(131),W=n(66),H=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).renderTh=function(e){return"name"===e.datafield||"role"===e.datafield||"workgroupName"===e.datafield?Object(I.jsxs)("th",{children:[e.caption,Object(I.jsx)(W.a,{style:{float:"right",cursor:"pointer"},onClick:function(){return r.props.handleSortByChange(function(e){switch(e){case"name":return y;case"role":return g;case"workgroupName":return x;default:return k}}(e.datafield))}})]},e.datafield):Object(I.jsx)("th",{children:e.caption},e.datafield)},r.state={},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(I.jsx)("thead",{children:Object(I.jsx)("tr",{children:S.map((function(t){return e.renderTh(t)}))})})}}]),n}(a.a.Component),Y=n(35),_=n.n(Y),R=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).renderTd=function(e,t){return"name"===t?Object(I.jsxs)("p",{className:"lw-light-blue",children:[e.firstName," ",e.lastName]}):"viewLeaveTaken"===t?Object(I.jsx)("a",{href:"#",className:"lw-light-blue",children:"View Leave Taken"}):"leaveYearStartDate"===t?_()(e.leaveYearStartDate).format("DD/MMM"):e[t]},r.state={},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props.employees;return Object(I.jsx)(I.Fragment,{children:0===t.length?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:S.length,style:{textAlign:"center"},children:"There are no employees to show."})}):t.map((function(t,n){return Object(I.jsx)("tr",{children:S.map((function(n,r){return Object(I.jsx)("td",{children:e.renderTd(t,n.datafield)},n.datafield+r)}))},"tr-".concat(n))}))})}}]),n}(a.a.Component),z=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).getMutatedEmployeeList=function(){var e=r.props,t=e.employees,n=e.sortBy,a=e.filterBy,i=e.filterValueId,c=e.showInactiveEmployees,o=e.workgroups,s=t;if(n!==k?s.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0})):s.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),a===w){var l=o.filter((function(e){return e.locationId===i}));s=s.filter((function(e){return l.some((function(t){return t.id===e.workgroupId}))}))}return a===C&&(s=s.filter((function(e){return e.workgroupId===i}))),c?s.filter((function(e){return e.isActive})):s},r.state={},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this.getMutatedEmployeeList();return Object(I.jsx)("tbody",{children:Object(I.jsx)(R,{employees:e})})}}]),n}(a.a.Component),J=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).handleChange=function(e,t){return r.setState(Object(s.a)({},e,t))},r.state={showInactiveEmployees:!0},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state.showInactiveEmployees;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(P.a,{striped:!0,bordered:!0,condensed:!0,hover:!0,responsive:!0,children:[Object(I.jsx)(H,Object(o.a)({},this.props)),Object(I.jsx)(z,Object(o.a)(Object(o.a)({},this.props),{},{showInactiveEmployees:t}))]}),Object(I.jsxs)("div",{style:{float:"right"},children:[Object(I.jsx)(V.a,{checked:!t,onChange:function(){return e.handleChange("showInactiveEmployees",!t)},style:{display:"inline"}})," show inactive employees"]})]})}}]),n}(a.a.Component),K=n(67),U=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{style:{display:"inline"},children:[Object(I.jsxs)("h3",{className:"lw-light-blue",style:{float:"left",display:"inline"},children:[Object(I.jsx)(K.a,{})," ",this.props.name]}),Object(I.jsx)("p",{className:"company-detail-end",children:"company"})]})}}]),n}(a.a.Component),q={email:"Email: ",leaveYearStartDate:"Leave year starts on (dd/MM): ",workPattern:"Work pattern: ",maxStaffOnLeave:"Max staff leave for the whole company: ",overtimeEnabled:"Overtime enabled: "},G=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderDetailField=function(t){var n,r;return"leaveYearStartDate"===t?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("strong",{children:q[t]})," ",_()(e.props.leaveYearStartDate).format("DD/MMM"),"  "]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("strong",{children:q[t]}),"workPattern"===t?null===(n=e.props[t])||void 0===n?void 0:n.name:null===(r=e.props[t])||void 0===r?void 0:r.toString()]})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(q);return Object(I.jsx)(v.a,{children:Object(I.jsxs)(v.a.Body,{style:{padding:"8px"},children:[this.props.hide?null:t.map((function(t,n){return Object(I.jsx)("p",{children:e.renderDetailField(t)},n)})),Object(I.jsx)("p",{style:{float:"right"},className:"lw-light-blue company-detail-btn-text",onClick:function(){return e.props.handleChange("hide",!e.props.hide)},children:this.props.hide?"show more":"show less"})]})})}}]),n}(a.a.Component),Q=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).handleChange=function(e,t){return r.setState(Object(s.a)({},e,t))},r.state={hide:!1},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props;return Object(I.jsxs)("div",{children:[Object(I.jsx)(O.a,{children:Object(I.jsx)(U,Object(o.a)({},e))}),Object(I.jsx)("hr",{style:{margin:0,marginBottom:"1rem",border:"1px solid #00ABD4",background:"#00ABD4"}}),Object(I.jsx)(O.a,{children:Object(I.jsx)(G,Object(o.a)(Object(o.a)({},e),{},{hide:this.state.hide,handleChange:this.handleChange}))})]})}}]),n}(a.a.Component),X=n(68),Z=n.n(X),$=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){r.getData()},r.getData=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return r.setState({data:e})},fetch(Z.a.settings.REACT_APP_API_URL,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return t(e)}));case 2:case"end":return e.stop()}}),e)}))),r.handleChange=function(e,t){return r.setState(Object(s.a)({},e,t))},r.handleFilterChange=function(e,t){return r.setState({filterBy:e,filterValueId:t})},r.handleSortByChange=function(e){return r.setState({sortBy:e})},r.resetfilterValueIds=function(){return r.setState({filterBy:B,filterValueId:"",sortBy:k})},r.state={data:{companyId:0,name:"",locations:[],workgroups:[],employees:[]},filterBy:B,filterValueId:"",sortBy:k},r}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.filterBy,r=e.filterValueId,a=e.sortBy;return Object(I.jsx)(f.a,{children:Object(I.jsxs)(O.a,{children:[Object(I.jsxs)(m.a,{lg:3,sm:4,md:12,children:[Object(I.jsx)(m.a,{lg:12,sm:12,md:6,children:Object(I.jsx)(E,{name:t.name,companyId:t.id,locations:t.locations,workgroups:t.workgroups,handleChange:this.handleChange,handleFilterChange:this.handleFilterChange,resetfilterValueIds:this.resetfilterValueIds})}),Object(I.jsx)(m.a,{lg:12,sm:12,md:6,children:Object(I.jsx)(D,Object(o.a)({},this.state))})]}),Object(I.jsxs)(m.a,{lg:9,sm:12,md:13,children:[Object(I.jsx)(Q,Object(o.a)({},this.state.data)),Object(I.jsx)(O.a,{children:Object(I.jsx)(J,Object(o.a)(Object(o.a)({filterBy:n,filterValueId:r,sortBy:a},this.state.data),{},{handleSortByChange:this.handleSortByChange}))})]})]})})}}]),n}(a.a.Component);n(127);var ee=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsx)($,{})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,137)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(ee,{})}),document.getElementById("root")),te()},31:function(e,t,n){},68:function(e,t,n){e.exports=n(126)},73:function(e,t,n){},74:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.a1984701.chunk.js.map