(this["webpackJsonpleave-wizard-organization-employees"]=this["webpackJsonpleave-wizard-organization-employees"]||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},130:function(e,t,a){},131:function(e,t){t.settings={REACT_APP_API_URL:"./data.json"}},133:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(41),c=a.n(i),o=(a(74),a(75),a(13)),s=a(17),l=a(43),d=a.n(l),u=a(64),p=a(9),j=a(10),h=a(12),f=a(11),b=a(138),O=a(137),m=a(139),v=a(134),g=a(140),y=(a(28),a(141)),x="lastName",k="role",w="workgroupName",S="default",C="location",I="workgroup",B="default",N=[{datafield:"name",caption:"Name"},{datafield:"role",caption:"Role"},{datafield:"workgroupName",caption:"Workgroup"},{datafield:"leaveYearStartDate",caption:"Leave Year (dd/MM)"},{datafield:"",caption:"Info"},{datafield:"employmentStartDate",caption:"Employment Dates"},{datafield:"bradfactor",caption:"Bradford Factor"},{datafield:"viewLeaveTaken",caption:""}],L=a(3),T=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).isSelectedStyle=function(e){return e===n.props.selectedTreeId?{backgroundColor:"#00ABD4",color:"white"}:{}},n.workgroups=function(){return n.props.workgroups.filter((function(e){return e.locationId===n.props.location.id&&e.isActive})).map((function(e){return Object(L.jsxs)("div",{children:[Object(L.jsx)(g.a.Body,{collapsible:!0,className:"noselect tree-workgroups",onClick:function(){return n.props.filterByWorkgroupHandler(e.id,I,n.props.location)},style:n.isSelectedStyle(e.id),children:e.name}),Object(L.jsx)("hr",{style:{margin:0}})]},e.name)}))},n.state={sortBy:""},n}return Object(j.a)(a,[{key:"render",value:function(){return this.workgroups()}}]),a}(r.a.Component),A=a(47),D=(a(126),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).isSelectedStyle=function(e){return e===n.props.selectedTreeId?"lw-panel-group-selected":""},n.showAllHandler=function(e){return n.props.handleFilterChange(C,e)},n.state={open:!0},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.location,n=t.workgroups;return Object(L.jsx)(y.a,{accordion:!0,className:"lw-panel-group-divider",id:a.name,children:Object(L.jsxs)(g.a,{eventKey:this.props.eventKey,children:[Object(L.jsx)(g.a.Heading,{className:"noselect tree-location",children:Object(L.jsxs)(g.a.Title,{collapsible:!0,className:"noselect tree-workgroups ".concat(this.isSelectedStyle(this.props.location.id)),children:[Object(L.jsx)("div",{className:"lw-panel-group-location",onClick:function(){e.showAllHandler(e.props.location.name),e.props.filterByWorkgroupHandler(e.props.location.id,C)},children:a.name}),Object(L.jsx)(g.a.Toggle,{children:Object(L.jsx)("div",{onClick:function(){return e.setState({open:!e.state.open})},className:"lw-panel-group-toggle",children:this.state.open?Object(L.jsx)(A.b,{className:"color-black"}):Object(L.jsx)(A.a,{className:"color-black"})})})]})}),Object(L.jsx)(T,Object(o.a)({location:a,workgroups:n},this.props))]})},a.name)}}]),a}(r.a.Component)),M=(a(127),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).filterByWorkgroupHandler=function(e,t,a){n.setState({selectedTreeId:e,selectedLocation:a}),n.props.handleFilterChange(t,e)},n.tabs=function(){var e=n.props,t=e.locations,a=e.companyId;return t.filter((function(e){return e.companyId===a&&e.isActive})).map((function(e,t){return Object(L.jsx)(D,Object(o.a)({location:e,filterByWorkgroupHandler:n.filterByWorkgroupHandler,selectedTreeId:n.state.selectedTreeId},n.props),"lt"+t)}))},n.isSelectedStyle=function(){return 0===n.state.selectedTreeId?"lw-panel-group-selected":"lw-bg-grey"},n.resetFilters=function(){n.props.resetfilterValueIds(),n.setState({selectedTreeId:0})},n.state={selectedTreeId:0,selectedLocation:""},n}return Object(j.a)(a,[{key:"render",value:function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)("h3",{className:"lw-tree-title",children:Object(L.jsx)(v.a,{className:"lw-bg-light-blue",children:this.props.name})}),this.tabs(),Object(L.jsx)(g.a,{className:"".concat(this.isSelectedStyle()," company-detail-btn-text"),onClick:this.resetFilters,children:"Show all"}),Object(L.jsx)("hr",{style:{margin:1}})]})}}]),a}(r.a.Component)),E=a(135),F=a(136),P=a(27),V=(a(128),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).renderTh=function(e){return"name"===e.datafield||"role"===e.datafield||"workgroupName"===e.datafield?Object(L.jsxs)("th",{children:[e.caption,Object(L.jsx)(P.a,{className:"lw-sort-icon",onClick:function(){return n.props.handleSortByChange(function(e){switch(e){case"name":return x;case"role":return k;case"workgroupName":return w;default:return S}}(e.datafield))}})]},e.datafield):Object(L.jsx)("th",{children:e.caption},e.datafield)},n.state={},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(L.jsx)("thead",{children:Object(L.jsx)("tr",{children:N.map((function(t){return e.renderTh(t)}))})})}}]),a}(r.a.Component)),W=a(36),H=a.n(W),Y=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).renderTd=function(e,t){return"name"===t?Object(L.jsxs)("p",{className:"lw-light-blue",children:[e.lastName,", ",e.firstName]}):"viewLeaveTaken"===t?Object(L.jsx)("a",{href:"#",className:"lw-light-blue",children:"View Leave Taken"}):"leaveYearStartDate"===t?H()(e.leaveYearStartDate).format("DD/MMM"):e[t]},n.state={},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props.employees;return Object(L.jsx)(L.Fragment,{children:0===t.length?Object(L.jsx)("tr",{children:Object(L.jsx)("td",{colSpan:N.length,className:"align-center",children:"There are no employees to show."})}):t.map((function(t,a){return Object(L.jsx)("tr",{children:N.map((function(a,n){return Object(L.jsx)("td",{children:e.renderTd(t,a.datafield)},a.datafield+n)}))},"tr-".concat(a))}))})}}]),a}(r.a.Component),_=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getMutatedEmployeeList=function(){var e=n.props,t=e.employees,a=e.sortBy,r=e.filterBy,i=e.filterValueId,c=e.showInactiveEmployees,o=e.workgroups,s=t.slice();if(a!==a.DEFAULT?s.sort((function(e,t){return e[a]>t[a]?1:t[a]>e[a]?-1:0})):s.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),r===C){var l=o.filter((function(e){return e.locationId===i}));s=s.filter((function(e){return l.some((function(t){return t.id===e.workgroupId}))}))}return r===I&&(s=s.filter((function(e){return e.workgroupId===i}))),c?s.filter((function(e){return e.isActive})):s},n.state={},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.getMutatedEmployeeList();return Object(L.jsx)("tbody",{children:Object(L.jsx)(Y,{employees:e})})}}]),a}(r.a.Component),R=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){return n.setState(Object(s.a)({},e,t))},n.state={showInactiveEmployees:!0},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.state.showInactiveEmployees;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{style:{float:"inline",marginBottom:"1rem",marginLeft:"78%"},children:[Object(L.jsx)(E.a,{checked:!t,onChange:function(){return e.handleChange("showInactiveEmployees",!t)},style:{display:"inline"}})," show inactive employees"]}),Object(L.jsxs)(F.a,{striped:!0,bordered:!0,condensed:!0,hover:!0,responsive:!0,children:[Object(L.jsx)(V,Object(o.a)({},this.props)),Object(L.jsx)(_,Object(o.a)(Object(o.a)({},this.props),{},{showInactiveEmployees:t}))]})]})}}]),a}(r.a.Component),z=a(68),U=(a(130),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(L.jsxs)("div",{style:{display:"inline"},children:[Object(L.jsxs)("h3",{className:"lw-light-blue lw-title",children:[Object(L.jsx)(z.a,{})," ",this.props.name]}),Object(L.jsx)("p",{className:"company-detail-end",children:"company"})]})}}]),a}(r.a.Component)),J={email:"Email: ",leaveYearStartDate:"Leave year starts on (dd/MM): ",workPattern:"Work pattern: ",maxStaffOnLeave:"Max staff leave for the whole company: ",overtimeEnabled:"Overtime enabled: "},K={city:"City: ",workPattern:"Work pattern: ",maxStaffOnLeave:"Max staff on leave: "},q={name:"Workgroup: ",leaderName:"Leader: ",maxStaffOnLeave:"Max staff leave for the whole company: "},G=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getData=function(t,a){var n,r,i,c,o,s,l=t.filterBy,d=t.filterValueId,u=a.slice().filter((function(e){return e.id===d}))[0];return l===C?{data:{city:u.city,maxStaffOnLeave:null!==(r=u.maxStaffOnLeave)&&void 0!==r?r:"N/A",workPattern:null!==(i=u.workPattern)&&void 0!==i?i:"N/A"},detail:K}:l===I?{data:{name:u.name,leaderName:null!==(c=null===(o=u.leader)||void 0===o?void 0:o.name)&&void 0!==c?c:"N/A",maxStaffOnLeave:null!==(s=u.maxStaffOnLeave)&&void 0!==s?s:"N/A"},detail:q}:{data:{email:e.props.email,leaveYearStartDate:H()(e.props.leaveYearStartDate).format("DD/MMM"),workPattern:null===(n=e.props.workPattern)||void 0===n?void 0:n.name,maxStaffOnLeave:e.props.maxStaffOnLeave,overtimeEnabled:e.props.overtimeEnabled?"yes":"no"},detail:J}},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props.filterBy===C,a=this.props.filterBy===I,n=t?this.props.data.locations:a?this.props.data.workgroups:[],r=this.getData(this.props,n);return Object(L.jsxs)(g.a,{children:[Object(L.jsx)(g.a.Body,{style:{padding:0},children:this.props.hide?null:Object(L.jsx)("div",{style:{padding:"12px"},children:Object.keys(r.detail).map((function(e,t){return Object(L.jsxs)("p",{children:[Object(L.jsx)("strong",{children:r.detail[e]})," ",r.data[e]]},t)}))})}),Object(L.jsx)("div",{className:"lw-show-details",onClick:function(){return e.props.handleChange("hide",!e.props.hide)},children:Object(L.jsx)("h3",{style:{display:"block",margin:0,marginLeft:"49%"},children:this.props.hide?Object(L.jsx)(P.c,{}):Object(L.jsx)(P.b,{})})})]})}}]),a}(r.a.Component),Q=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){return n.setState(Object(s.a)({},e,t))},n.state={hide:!1},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props;return Object(L.jsxs)("div",{children:[Object(L.jsx)(O.a,{children:Object(L.jsx)(U,Object(o.a)({},e))}),Object(L.jsx)("hr",{style:{margin:0,marginBottom:"1rem",border:"1px solid #00ABD4",background:"#00ABD4"}}),Object(L.jsx)(O.a,{children:Object(L.jsx)(G,Object(o.a)(Object(o.a)({},e),{},{hide:this.state.hide,handleChange:this.handleChange}))})]})}}]),a}(r.a.Component),X=a(69),Z=a.n(X),$=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getData()},n.getData=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return n.setState({data:e})},fetch(Z.a.settings.REACT_APP_API_URL,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return t(e)}));case 2:case"end":return e.stop()}}),e)}))),n.handleChange=function(e,t){return n.setState(Object(s.a)({},e,t))},n.handleFilterChange=function(e,t){return n.setState({filterBy:e,filterValueId:t})},n.handleSortByChange=function(e){return n.setState({sortBy:e})},n.resetfilterValueIds=function(){return n.setState({filterBy:B,filterValueId:"",sortBy:x})},n.state={data:{companyId:0,name:"",locations:[],workgroups:[],employees:[]},filterBy:B,filterValueId:"",sortBy:x},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.filterBy,n=e.filterValueId,r=e.sortBy;return Object(L.jsx)(b.a,{children:Object(L.jsxs)(O.a,{children:[Object(L.jsx)(m.a,{lg:3,sm:4,md:12,children:Object(L.jsx)(M,{name:t.name,companyId:t.id,locations:t.locations,workgroups:t.workgroups,handleChange:this.handleChange,handleFilterChange:this.handleFilterChange,resetfilterValueIds:this.resetfilterValueIds})}),Object(L.jsxs)(m.a,{lg:9,sm:12,md:13,children:[Object(L.jsx)(Q,Object(o.a)(Object(o.a)({},this.state.data),this.state)),Object(L.jsx)(O.a,{children:Object(L.jsx)(R,Object(o.a)(Object(o.a)({filterBy:a,filterValueId:n,sortBy:r},this.state.data),{},{handleSortByChange:this.handleSortByChange}))})]})]})})}}]),a}(r.a.Component);a(132);var ee=function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)($,{})})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,142)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(ee,{})}),document.getElementById("root")),te()},28:function(e,t,a){},69:function(e,t,a){e.exports=a(131)},74:function(e,t,a){},75:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.c77e5546.chunk.js.map