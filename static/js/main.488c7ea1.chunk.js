(this["webpackJsonpleave-wizard-organization-employees"]=this["webpackJsonpleave-wizard-organization-employees"]||[]).push([[0],{126:function(e,t){t.settings={REACT_APP_API_URL:"./data.json"}},128:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(40),o=n.n(i),c=(n(73),n(74),n(13)),s=n(17),l=n(42),u=n.n(l),d=n(62),h=n(9),j=n(10),p=n(12),b=n(11),f=n(133),O=n(132),m=n(134),g=n(129),y=(n(36),n(136)),v=n(135),x="firstName",k="role",w="workgroupName",C="default",B="location",S="workgroup",N="default",D=[{datafield:"name",caption:"Name"},{datafield:"role",caption:"Role"},{datafield:"workgroupName",caption:"Workgroup"},{datafield:"leaveYearStartDate",caption:"Leave Year (dd/MM)"},{datafield:"",caption:"Info"},{datafield:"employmentStartDate",caption:"Employment Dates"},{datafield:"bradfactor",caption:"Bradford Factor"},{datafield:"viewLeaveTaken",caption:""}],F=n(3),A=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).showAllHandler=function(e){return r.props.handleFilterChange(B,e)},r.isSelectedStyle=function(e){return e===r.props.selectedWorkgroupName?{backgroundColor:"#00ABD4",color:"white"}:{}},r.workgroups=function(){var e=r.props.workgroups.filter((function(e){return e.locationId===r.props.location.id&&e.isActive})).map((function(e){return Object(F.jsxs)("div",{children:[Object(F.jsx)(v.a.Body,{collapsible:!0,className:"noselect tree-workgroups",onClick:function(){return r.props.filterByWorkgroupHandler(e.name,S)},style:r.isSelectedStyle(e.name),children:e.name}),Object(F.jsx)("hr",{style:{margin:0}})]},e.name)}));return e.push(Object(F.jsxs)("div",{children:[Object(F.jsx)(v.a.Body,{onClick:function(){r.showAllHandler(r.props.location.name),r.props.filterByWorkgroupHandler(r.props.location.name,B)},collapsible:!0,className:"noselect tree-workgroups",style:r.isSelectedStyle(r.props.location.name),children:"All workgroups for this location"}),Object(F.jsx)("hr",{style:{margin:0}})]},e.length)),e},r.state={sortBy:""},r}return Object(j.a)(n,[{key:"render",value:function(){return this.workgroups()}}]),n}(a.a.Component),I=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.location,n=e.workgroups;return Object(F.jsx)(y.a,{accordion:!0,id:t.name,style:{marginBottom:"0.5rem"},children:Object(F.jsxs)(v.a,{eventKey:this.props.eventKey,children:[Object(F.jsx)(v.a.Heading,{className:"noselect tree-location",children:Object(F.jsx)("div",{children:Object(F.jsxs)(v.a.Title,{style:{display:"inline"},toggle:!0,children:[t.name," "]})})}),Object(F.jsx)(A,Object(c.a)({location:t,workgroups:n},this.props))]})},t.name)}}]),n}(a.a.Component),M=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).filterByWorkgroupHandler=function(e,t){r.setState({selectedWorkgroupName:e}),r.props.handleFilterChange(t,e)},r.tabs=function(){var e=r.props,t=e.locations,n=e.companyId;return t.filter((function(e){return e.companyId===n&&e.isActive})).map((function(e,t){return Object(F.jsx)(I,Object(c.a)({location:e,filterByWorkgroupHandler:r.filterByWorkgroupHandler,selectedWorkgroupName:r.state.selectedWorkgroupName},r.props),"lt"+t)}))},r.resetFilters=function(){r.props.resetFilterValues(),r.setState({selectedWorkgroupName:""})},r.state={selectedWorkgroupName:""},r}return Object(j.a)(n,[{key:"render",value:function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("h3",{style:{marginBottom:"2rem",color:"#00ABD4",cursor:"pointer"},children:Object(F.jsx)(g.a,{onClick:this.resetFilters,className:"lw-bg-light-blue",children:this.props.name})}),this.tabs(),Object(F.jsxs)("div",{children:["                ",Object(F.jsx)("p",{style:{textAlign:"left"},className:"lw-light-blue company-detail-btn-text",onClick:this.resetFilters,children:"reset"})]})]})}}]),n}(a.a.Component),T=n(130),E=n(131),W=n(66),L=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).renderTh=function(e){return"name"===e.datafield||"role"===e.datafield||"workgroupName"===e.datafield?Object(F.jsxs)("th",{children:[e.caption,Object(F.jsx)(W.a,{style:{float:"right",cursor:"pointer"},onClick:function(){return r.props.handleSortByChange(function(e){switch(e){case"name":return x;case"role":return k;case"workgroupName":return w;default:return C}}(e.datafield))}})]},e.datafield):Object(F.jsx)("th",{children:e.caption},e.datafield)},r.state={},r}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(F.jsx)("thead",{children:Object(F.jsx)("tr",{children:D.map((function(t){return e.renderTh(t)}))})})}}]),n}(a.a.Component),V=n(34),P=n.n(V),H=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).renderTd=function(e,t){return"name"===t?Object(F.jsxs)("p",{className:"lw-light-blue",children:[e.firstName," ",e.lastName]}):"viewLeaveTaken"===t?Object(F.jsx)("a",{href:"#",className:"lw-light-blue",children:"View Leave Taken"}):"leaveYearStartDate"===t?P()(e.leaveYearStartDate).format("DD/MMM"):e[t]},r.state={},r}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.props.employees;return Object(F.jsx)("tbody",{children:0===t.length?Object(F.jsx)("tr",{children:Object(F.jsx)("td",{colSpan:D.length,style:{textAlign:"center"},children:"There are no employees to show."})}):t.map((function(t,n){return Object(F.jsx)("tr",{children:D.map((function(n,r){return Object(F.jsx)("td",{children:e.renderTd(t,n.datafield)},n.datafield+r)}))},"tr-".concat(n))}))})}}]),n}(a.a.Component),Y=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).getMutatedEmployeeList=function(){var e=r.props,t=e.employees,n=e.sortBy,a=e.filterBy,i=e.filterValue,o=e.showInactiveEmployees,c=t;return n!==C?c.sort((function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0})):c.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),a===B&&(c=c.filter((function(e){return e.workgroupName.includes(i)}))),a===S&&(c=c.filter((function(e){return e.workgroupName===i}))),o?c.filter((function(e){return e.isActive})):c},r.state={},r}return Object(j.a)(n,[{key:"render",value:function(){var e=this.getMutatedEmployeeList();return Object(F.jsx)(H,{employees:e})}}]),n}(a.a.Component),_=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).handleChange=function(e,t){return r.setState(Object(s.a)({},e,t))},r.state={showInactiveEmployees:!0},r}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.state.showInactiveEmployees;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(T.a,{striped:!0,bordered:!0,condensed:!0,hover:!0,responsive:!0,children:[Object(F.jsx)(L,Object(c.a)({},this.props)),Object(F.jsx)(Y,Object(c.a)(Object(c.a)({},this.props),{},{showInactiveEmployees:t}))]}),Object(F.jsxs)("div",{style:{float:"right"},children:[Object(F.jsx)(E.a,{checked:!t,onChange:function(){return e.handleChange("showInactiveEmployees",!t)},style:{display:"inline"}})," show inactive employees"]})]})}}]),n}(a.a.Component),R=n(67),z=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(F.jsxs)("div",{style:{display:"inline"},children:[Object(F.jsxs)("h3",{className:"lw-light-blue",style:{float:"left",display:"inline"},children:[Object(F.jsx)(R.a,{})," ",this.props.name]}),Object(F.jsx)("p",{className:"company-detail-end",children:"company"})]})}}]),n}(a.a.Component),J={email:"Email: ",leaveYearStartDate:"Leave year starts on (dd/MM): ",workPattern:"Work pattern: ",maxStaffOnLeave:"Max staff leave for the whole company: ",overtimeEnabled:"Overtime enabled: "},K=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderDetailField=function(t){var n,r;return"leaveYearStartDate"===t?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("strong",{children:J[t]})," ",P()(e.props.leaveYearStartDate).format("DD/MMM"),"  "]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("strong",{children:J[t]}),"workPattern"===t?null===(n=e.props[t])||void 0===n?void 0:n.name:null===(r=e.props[t])||void 0===r?void 0:r.toString()]})},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(J);return Object(F.jsx)(v.a,{children:Object(F.jsxs)(v.a.Body,{style:{padding:"8px"},children:[this.props.hide?null:t.map((function(t,n){return Object(F.jsx)("p",{children:e.renderDetailField(t)},n)})),Object(F.jsx)("p",{style:{float:"right"},className:"lw-light-blue company-detail-btn-text",onClick:function(){return e.props.handleChange("hide",!e.props.hide)},children:this.props.hide?"show more":"show less"})]})})}}]),n}(a.a.Component),U=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).handleChange=function(e,t){return r.setState(Object(s.a)({},e,t))},r.state={hide:!1},r}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props;return Object(F.jsxs)("div",{children:[Object(F.jsx)(O.a,{children:Object(F.jsx)(z,Object(c.a)({},e))}),Object(F.jsx)("hr",{style:{margin:0,marginBottom:"1rem",border:"1px solid #00ABD4",background:"#00ABD4"}}),Object(F.jsx)(O.a,{children:Object(F.jsx)(K,Object(c.a)(Object(c.a)({},e),{},{hide:this.state.hide,handleChange:this.handleChange}))})]})}}]),n}(a.a.Component),q=n(68),G=n.n(q),Q=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){r.getData()},r.getData=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return r.setState({data:e})},fetch(G.a.settings.REACT_APP_API_URL,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return t(e)}));case 2:case"end":return e.stop()}}),e)}))),r.handleChange=function(e,t){return r.setState(Object(s.a)({},e,t))},r.handleFilterChange=function(e,t){return r.setState({filterBy:e,filterValue:t})},r.handleSortByChange=function(e){return r.setState({sortBy:e})},r.resetFilterValues=function(){return r.setState({filterBy:N,filterValue:"",sortBy:C})},r.state={data:{companyId:0,name:"",locations:[],workgroups:[],employees:[]},filterBy:N,filterValue:"",sortBy:C},r}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.filterBy,r=e.filterValue,a=e.sortBy;return Object(F.jsx)(f.a,{children:Object(F.jsxs)(O.a,{children:[Object(F.jsx)(m.a,{lg:3,sm:4,md:3,children:Object(F.jsx)(M,{name:t.name,companyId:t.id,locations:t.locations,workgroups:t.workgroups,handleChange:this.handleChange,handleFilterChange:this.handleFilterChange,resetFilterValues:this.resetFilterValues})}),Object(F.jsxs)(m.a,{lg:9,sm:12,md:13,children:[Object(F.jsx)(U,Object(c.a)({},this.state.data)),Object(F.jsx)(O.a,{children:Object(F.jsx)(_,Object(c.a)(Object(c.a)({filterBy:n,filterValue:r,sortBy:a},this.state.data),{},{handleSortByChange:this.handleSortByChange}))})]})]})})}}]),n}(a.a.Component);n(127);var X=function(){return Object(F.jsx)("div",{className:"App",children:Object(F.jsx)(Q,{})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,137)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};o.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(X,{})}),document.getElementById("root")),Z()},36:function(e,t,n){},68:function(e,t,n){e.exports=n(126)},73:function(e,t,n){},74:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.488c7ea1.chunk.js.map