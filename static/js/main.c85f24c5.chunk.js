(this["webpackJsonpleave-wizard-organization-employees"]=this["webpackJsonpleave-wizard-organization-employees"]||[]).push([[0],{126:function(e,t){t.settings={REACT_APP_API_URL:"./data.json"}},128:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(41),o=a.n(i),c=(a(73),a(74),a(13)),s=a(17),l=a(43),d=a.n(l),u=a(63),h=a(9),p=a(10),j=a(12),f=a(11),b=a(133),O=a(132),m=a(134),v=a(129),y=a(135),g=(a(28),a(136)),x="lastName",k="role",w="workgroupName",C="default",S="location",B="workgroup",I="default",A=[{datafield:"name",caption:"Name"},{datafield:"role",caption:"Role"},{datafield:"workgroupName",caption:"Workgroup"},{datafield:"leaveYearStartDate",caption:"Leave Year (dd/MM)"},{datafield:"",caption:"Info"},{datafield:"employmentStartDate",caption:"Employment Dates"},{datafield:"bradfactor",caption:"Bradford Factor"},{datafield:"viewLeaveTaken",caption:""}],D=a(3),L=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).isSelectedStyle=function(e){return e===n.props.selectedTreeId?{backgroundColor:"#00ABD4",color:"white"}:{}},n.workgroups=function(){return n.props.workgroups.filter((function(e){return e.locationId===n.props.location.id&&e.isActive})).map((function(e){return Object(D.jsxs)("div",{children:[Object(D.jsx)(y.a.Body,{collapsible:!0,className:"noselect tree-workgroups",onClick:function(){return n.props.filterByWorkgroupHandler(e.id,B,n.props.location)},style:n.isSelectedStyle(e.id),children:e.name}),Object(D.jsx)("hr",{style:{margin:0}})]},e.name)}))},n.state={sortBy:""},n}return Object(p.a)(a,[{key:"render",value:function(){return this.workgroups()}}]),a}(r.a.Component),N=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).isSelectedStyle=function(t){return t===e.props.selectedTreeId?{backgroundColor:"#00ABD4",color:"white"}:{}},e.showAllHandler=function(t){return e.props.handleFilterChange(S,t)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.location,n=t.workgroups;return Object(D.jsx)(g.a,{accordion:!0,id:a.name,style:{marginBottom:"0.5rem",cursor:"pointer"},children:Object(D.jsxs)(y.a,{eventKey:this.props.eventKey,children:[Object(D.jsx)(y.a.Heading,{className:"noselect tree-location",children:Object(D.jsx)(y.a.Title,{onClick:function(){e.showAllHandler(e.props.location.name),e.props.filterByWorkgroupHandler(e.props.location.id,S)},collapsible:!0,className:"noselect tree-workgroups",style:this.isSelectedStyle(this.props.location.id),children:a.name})}),Object(D.jsx)(L,Object(c.a)({location:a,workgroups:n},this.props))]})},a.name)}}]),a}(r.a.Component),T=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).filterByWorkgroupHandler=function(e,t,a){n.setState({selectedTreeId:e,selectedLocation:a}),n.props.handleFilterChange(t,e)},n.tabs=function(){var e=n.props,t=e.locations,a=e.companyId;return t.filter((function(e){return e.companyId===a&&e.isActive})).map((function(e,t){return Object(D.jsx)(N,Object(c.a)({location:e,filterByWorkgroupHandler:n.filterByWorkgroupHandler,selectedTreeId:n.state.selectedTreeId},n.props),"lt"+t)}))},n.isSelectedStyle=function(){return 0===n.state.selectedTreeId?{backgroundColor:"#00ABD4",color:"white"}:{backgroundColor:"#f5f5f5"}},n.resetFilters=function(){n.props.resetfilterValueIds(),n.setState({selectedTreeId:0})},n.state={selectedTreeId:0,selectedLocation:""},n}return Object(p.a)(a,[{key:"render",value:function(){return Object(D.jsxs)("div",{children:[Object(D.jsx)("h3",{style:{marginBottom:"2rem",color:"#00ABD4",cursor:"pointer"},children:Object(D.jsx)(v.a,{className:"lw-bg-light-blue",children:this.props.name})}),this.tabs(),Object(D.jsx)(y.a,{className:"company-detail-btn-text",onClick:this.resetFilters,style:this.isSelectedStyle(),children:"Show all"}),Object(D.jsx)("hr",{style:{margin:1}})]})}}]),a}(r.a.Component),M=a(130),E=a(131),F=a(27),P=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).renderTh=function(e){return"name"===e.datafield||"role"===e.datafield||"workgroupName"===e.datafield?Object(D.jsxs)("th",{children:[e.caption,Object(D.jsx)(F.a,{style:{float:"right",cursor:"pointer"},onClick:function(){return n.props.handleSortByChange(function(e){switch(e){case"name":return x;case"role":return k;case"workgroupName":return w;default:return C}}(e.datafield))}})]},e.datafield):Object(D.jsx)("th",{children:e.caption},e.datafield)},n.state={},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return Object(D.jsx)("thead",{children:Object(D.jsx)("tr",{children:A.map((function(t){return e.renderTh(t)}))})})}}]),a}(r.a.Component),V=a(36),W=a.n(V),H=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).renderTd=function(e,t){return"name"===t?Object(D.jsxs)("p",{className:"lw-light-blue",children:[e.lastName,", ",e.firstName]}):"viewLeaveTaken"===t?Object(D.jsx)("a",{href:"#",className:"lw-light-blue",children:"View Leave Taken"}):"leaveYearStartDate"===t?W()(e.leaveYearStartDate).format("DD/MMM"):e[t]},n.state={},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.employees;return Object(D.jsx)(D.Fragment,{children:0===t.length?Object(D.jsx)("tr",{children:Object(D.jsx)("td",{colSpan:A.length,style:{textAlign:"center"},children:"There are no employees to show."})}):t.map((function(t,a){return Object(D.jsx)("tr",{children:A.map((function(a,n){return Object(D.jsx)("td",{children:e.renderTd(t,a.datafield)},a.datafield+n)}))},"tr-".concat(a))}))})}}]),a}(r.a.Component),Y=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).getMutatedEmployeeList=function(){var e=n.props,t=e.employees,a=e.sortBy,r=e.filterBy,i=e.filterValueId,o=e.showInactiveEmployees,c=e.workgroups,s=t.slice();if(a!==a.DEFAULT?s.sort((function(e,t){return e[a]>t[a]?1:t[a]>e[a]?-1:0})):s.sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})),r===S){var l=c.filter((function(e){return e.locationId===i}));s=s.filter((function(e){return l.some((function(t){return t.id===e.workgroupId}))}))}return r===B&&(s=s.filter((function(e){return e.workgroupId===i}))),o?s.filter((function(e){return e.isActive})):s},n.state={},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.getMutatedEmployeeList();return Object(D.jsx)("tbody",{children:Object(D.jsx)(H,{employees:e})})}}]),a}(r.a.Component),_=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){return n.setState(Object(s.a)({},e,t))},n.state={showInactiveEmployees:!0},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state.showInactiveEmployees;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(M.a,{striped:!0,bordered:!0,condensed:!0,hover:!0,responsive:!0,children:[Object(D.jsx)(P,Object(c.a)({},this.props)),Object(D.jsx)(Y,Object(c.a)(Object(c.a)({},this.props),{},{showInactiveEmployees:t}))]}),Object(D.jsxs)("div",{style:{float:"right"},children:[Object(D.jsx)(E.a,{checked:!t,onChange:function(){return e.handleChange("showInactiveEmployees",!t)},style:{display:"inline"}})," show inactive employees"]})]})}}]),a}(r.a.Component),R=a(67),z=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(D.jsxs)("div",{style:{display:"inline"},children:[Object(D.jsxs)("h3",{className:"lw-light-blue",style:{float:"left",display:"inline"},children:[Object(D.jsx)(R.a,{})," ",this.props.name]}),Object(D.jsx)("p",{className:"company-detail-end",children:"company"})]})}}]),a}(r.a.Component),U={email:"Email: ",leaveYearStartDate:"Leave year starts on (dd/MM): ",workPattern:"Work pattern: ",maxStaffOnLeave:"Max staff leave for the whole company: ",overtimeEnabled:"Overtime enabled: "},J={city:"City: ",workPattern:"Work pattern: ",maxStaffOnLeave:"Max staff on leave: "},K={name:"Workgroup: ",leaderName:"Leader: ",maxStaffOnLeave:"Max staff leave for the whole company: "},q=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getData=function(t,a){var n,r,i,o,c,s,l=t.filterBy,d=t.filterValueId,u=a.slice().filter((function(e){return e.id===d}))[0];return l===S?{data:{city:u.city,maxStaffOnLeave:null!==(r=u.maxStaffOnLeave)&&void 0!==r?r:"N/A",workPattern:null!==(i=u.workPattern)&&void 0!==i?i:"N/A"},detail:J}:l===B?{data:{name:u.name,leaderName:null!==(o=null===(c=u.leader)||void 0===c?void 0:c.name)&&void 0!==o?o:"N/A",maxStaffOnLeave:null!==(s=u.maxStaffOnLeave)&&void 0!==s?s:"N/A"},detail:K}:{data:{email:e.props.email,leaveYearStartDate:W()(e.props.leaveYearStartDate).format("DD/MMM"),workPattern:null===(n=e.props.workPattern)||void 0===n?void 0:n.name,maxStaffOnLeave:e.props.maxStaffOnLeave,overtimeEnabled:e.props.overtimeEnabled?"yes":"no"},detail:U}},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.filterBy===S,a=this.props.filterBy===B,n=t?this.props.data.locations:a?this.props.data.workgroups:[],r=this.getData(this.props,n);return Object(D.jsxs)(y.a,{children:[Object(D.jsx)(y.a.Body,{style:{padding:0},children:this.props.hide?null:Object(D.jsx)("div",{style:{padding:"12px"},children:Object.keys(r.detail).map((function(e,t){return Object(D.jsxs)("p",{children:[Object(D.jsx)("strong",{children:r.detail[e]})," ",r.data[e]]},t)}))})}),Object(D.jsx)("div",{className:"lw-show-details",onClick:function(){return e.props.handleChange("hide",!e.props.hide)},children:Object(D.jsx)("h3",{style:{display:"block",margin:0,marginLeft:"49%"},children:this.props.hide?Object(D.jsx)(F.c,{}):Object(D.jsx)(F.b,{})})})]})}}]),a}(r.a.Component),G=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){return n.setState(Object(s.a)({},e,t))},n.state={hide:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props;return Object(D.jsxs)("div",{children:[Object(D.jsx)(O.a,{children:Object(D.jsx)(z,Object(c.a)({},e))}),Object(D.jsx)("hr",{style:{margin:0,marginBottom:"1rem",border:"1px solid #00ABD4",background:"#00ABD4"}}),Object(D.jsx)(O.a,{children:Object(D.jsx)(q,Object(c.a)(Object(c.a)({},e),{},{hide:this.state.hide,handleChange:this.handleChange}))})]})}}]),a}(r.a.Component),Q=a(68),X=a.n(Q),Z=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getData()},n.getData=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return n.setState({data:e})},fetch(X.a.settings.REACT_APP_API_URL,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return t(e)}));case 2:case"end":return e.stop()}}),e)}))),n.handleChange=function(e,t){return n.setState(Object(s.a)({},e,t))},n.handleFilterChange=function(e,t){return n.setState({filterBy:e,filterValueId:t})},n.handleSortByChange=function(e){return n.setState({sortBy:e})},n.resetfilterValueIds=function(){return n.setState({filterBy:I,filterValueId:"",sortBy:x})},n.state={data:{companyId:0,name:"",locations:[],workgroups:[],employees:[]},filterBy:I,filterValueId:"",sortBy:x},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.filterBy,n=e.filterValueId,r=e.sortBy;return Object(D.jsx)(b.a,{children:Object(D.jsxs)(O.a,{children:[Object(D.jsx)(m.a,{lg:3,sm:4,md:12,children:Object(D.jsx)(T,{name:t.name,companyId:t.id,locations:t.locations,workgroups:t.workgroups,handleChange:this.handleChange,handleFilterChange:this.handleFilterChange,resetfilterValueIds:this.resetfilterValueIds})}),Object(D.jsxs)(m.a,{lg:9,sm:12,md:13,children:[Object(D.jsx)(G,Object(c.a)(Object(c.a)({},this.state.data),this.state)),Object(D.jsx)(O.a,{children:Object(D.jsx)(_,Object(c.a)(Object(c.a)({filterBy:a,filterValueId:n,sortBy:r},this.state.data),{},{handleSortByChange:this.handleSortByChange}))})]})]})})}}]),a}(r.a.Component);a(127);var $=function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(Z,{})})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,137)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)($,{})}),document.getElementById("root")),ee()},28:function(e,t,a){},68:function(e,t,a){e.exports=a(126)},73:function(e,t,a){},74:function(e,t,a){}},[[128,1,2]]]);
//# sourceMappingURL=main.c85f24c5.chunk.js.map